function Xhr(a,b,c){Object.defineProperty(this,"urlError",{value:"url required."});Object.defineProperty(this,"doneCallbackError",{value:"doneCallback required, and must be a function()."});Object.defineProperty(this,"failTitle",{value:"Unable to Process Request"});Object.defineProperty(this,"defaultFailMessage",{value:"There was a problem processing your request. Please try again. If the problem continues please contact the application administrators."});this._xsrf="__RequestVerificationToken";this._jQueryUI= "undefined"!==typeof jQuery.ui&&"function"===typeof jQuery.ui.dialog;if(a)this._url=a;else throw this.urlError;if(b&&"function"===typeof b)this._doneCallback=b;else throw this.doneCallbackError;this._failMessage=c||this.defaultFailMessage} Xhr.prototype={constructor:Xhr,getXsrfToken:function(){var a=document.querySelector("input[name="+this._xsrf+"]");if(null!==a){var b={};b[this._xsrf]=a.value;return b}return null},send:function(a,b,c){var d=this;$.ajax({url:d._url,headers:d.getXsrfToken(),data:a,type:b||"POST"}).done(function(a,b,c){d._doneCallback(a)}).fail(function(a,b,c){d._jQueryUI?d.showDialog(d._failMessage):alert(d._failMessage)}).always(function(){c&&"function"===typeof c&&c()})},showErrorDialog:function(a){a="<h1><span style='color:red' class='glyphicon glyphicon-flag'></span>"+ self.failTitle+"</h1>"+a;$("<div></div>").html(a).dialog({width:"auto",modal:!0,title:self.failTitle})}};