function FileUploadField(){Object.defineProperty(this,"maxSizeExceeded",{value:"Max File Upload Size Exceeded"});this._jQueryUI="undefined"!==typeof jQuery&&"undefined"!==typeof jQuery.ui&&"function"===typeof jQuery.ui.dialog} FileUploadField.prototype={constructor:FileUploadField,toMB:function(a){return parseFloat((a/Math.pow(1024,Math.floor(Math.log(a)/Math.log(1024)))).toFixed(2))+" MB"},clearUpload:function(a){this.clearUploadUpateDom(a.target)},clearUploadUpateDom:function(a){a.parentNode.parentNode.firstElementChild.firstElementChild.firstElementChild.value="";a.parentNode.previousElementSibling.value="";a.parentNode.style.display="none"},processFile:function(a){a=a.target;var b=this.processFileGetFiles(a);if(b&& 0<b.length){b=b[0];var c=1024*a.dataset.maxSize;if(c>=b.size)this.processFileUpdateDom(a,b.name);else{b=["["+b.name+"] is "+this.toMB(b.size),"Maximum allowed file upload size is "+this.toMB(c),"Please select another file."];if(this._jQueryUI){c="<h1><span style='color:red' class='glyphicon glyphicon-flag'></span>"+this.maxSizeExceeded+"</h1>";for(var d=0;d<b.length;++d)c+="<p>"+b[d]+"</p>";this.showDialog(c)}else alert(b.join("\n\n"));a.value=""}}},showDialog:function(a){$("<div></div>").html(a).dialog({width:"auto", modal:!0,title:this.maxSizeExceeded})},processFileGetFiles:function(a){return a.files},processFileUpdateDom:function(a,b){var c=a.parentNode.parentNode.nextElementSibling;c.value=b;c.nextElementSibling.style.display="block"},addListeners:function(){var a=document.querySelector("button.fileUploadFieldButton");null!=a&&a.addEventListener("click",this.clearUpload.bind(this),!1);a=document.querySelector("input[type=file]");null!=a&&a.addEventListener("change",this.processFile.bind(this),!1)}};