function FileUploadField(){Object.defineProperty(this,"maxSizeExceeded",{value:"Max File Upload Size Exceeded"});Object.defineProperty(this,"invalidFile",{value:"Invalid File"});this._jQueryUI="undefined"!==typeof jQuery&&"undefined"!==typeof jQuery.ui&&"function"===typeof jQuery.ui.dialog} FileUploadField.prototype={constructor:FileUploadField,toMB:function(a){return parseFloat((a/Math.pow(1024,Math.floor(Math.log(a)/Math.log(1024)))).toFixed(2))+" MB"},fileInputSelector:function(){return document.querySelector("input[type=file][data-max-size]")},clearUpload:function(a){this.clearUploadUpateDom(a.target)},clearUploadUpateDom:function(a){a.parentNode.parentNode.firstElementChild.firstElementChild.firstElementChild.value="";a.parentNode.previousElementSibling.value="";a.parentNode.style.display= "none"},validateFile:function(a,c){var b=1024*a.dataset.maxSize;if(b<c.size)return b=["["+c.name+"] is ["+this.toMB(c.size)+"]","Maximum allowed file upload size is ["+this.toMB(b)+"]","Please select another file."],{title:this.maxSizeExceeded,errorLines:b};if(b=a.getAttribute("accept")){for(var d="."+c.name.toLowerCase().split(".").pop(),e=b.toLowerCase().split(","),g=new Set,f=0;f<e.length;++f)g.add(e[f]);if(!g.has(d))return b=["["+c.name+"] is not an allowed file type.","Only files with the following extensions are allowed ["+ b+"]","Please select another file."],{title:this.invalidFile,errorLines:b}}},processFile:function(a){a=a.target;var c=this.processFileGetFiles(a);if(c&&0<c.length){var b=c[0];if(c=this.validateFile(a,b)){b=c.errorLines;if(this._jQueryUI){for(var d="",e=0;e<b.length;++e)d+="<p>"+b[e]+"</p>";d=d.replace(/\[/g,"[<strong>").replace(/\]/g,"</strong>]");this.showDialog(c.title,d)}else alert(b.join("\n\n"));a.value=null}else this.processFileUpdateDom(a,b.name)}},showDialog:function(a,c){c="<h1><span style='color:red' class='glyphicon glyphicon-flag'></span> "+ a+"</h1>"+c;$("<div></div>").html(c).dialog({width:"auto",modal:!0,title:a})},processFileGetFiles:function(a){return a.files},processFileUpdateDom:function(a,c){var b=a.parentNode.parentNode.nextElementSibling;b.value=c;b.nextElementSibling.style.display="block"},addListeners:function(){var a=document.querySelector("button.fileUploadFieldButton");null!=a&&a.addEventListener("click",this.clearUpload.bind(this),!1);a=this.fileInputSelector();null!=a&&a.addEventListener("change",this.processFile.bind(this), !1)}};